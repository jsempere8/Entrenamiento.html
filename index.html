<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Fuerza & Salud +40</title>
<style>
:root {
  --primary: #007aff;
  --bg: #1c1c1e;
  --card: #2c2c2e;
  --text: #ffffff;
  --text-dim: #a1a1a6;
}
body {
  font-family: -apple-system, system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 20px;
}
h1, h2 { font-weight: 700; margin-bottom: 8px; }
.badge { background: var(--primary); padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold; }
.card {
  background: var(--card);
  padding: 20px;
  border-radius: 16px;
  margin-bottom: 20px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}
.exercise-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #3a3a3c;
}
.timer {
  font-size: 2rem;
  font-weight: bold;
  text-align: center;
  color: var(--primary);
  margin: 10px 0;
}
button {
  width: 100%;
  background: var(--primary);
  color: white;
  border: none;
  padding: 15px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
button:active { opacity: 0.8; }
.history-item { font-size: 13px; color: var(--text-dim); margin-bottom: 5px; }
select {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  background: #3a3a3c;
  color: white;
  border: none;
  font-size: 16px;
}
</style>
</head>
<body>

<header>
  <span id="date-label" class="badge">HOY</span>
  <h1 id="main-title">Enfoque & Fuerza</h1>
</header>

<div class="card">
  <h2> Movilidad Preventiva</h2>
  <p class="history-item">Evita lesiones. Haz 1 ronda de:</p>
  <ul style="padding-left: 20px; font-size: 14px;">
    <li>Rotaci贸n de hombros y cadera</li>
    <li>Gato-Camello (espalda)</li>
    <li>Sentadillas al aire (suaves)</li>
  </ul>
</div>

<div id="routine-card" class="card">
  <h2> Sesi贸n de Fuerza</h2>
  <div id="exercise-list"></div>
  <p id="routine-meta" style="font-size: 14px; color: var(--primary);"></p>
</div>

<div class="card" style="text-align: center;">
  <h2>憋 Descanso entre Series</h2>
  <div id="timer-display" class="timer">01:30</div>
  <button onclick="startTimer()">Iniciar Descanso</button>
</div>

<div class="card">
  <h2> Finalizar & Evaluar</h2>
  <p class="history-item">驴C贸mo te sentiste hoy?</p>
  <select id="rpe-select">
    <option value="">Selecciona esfuerzo (RPE)</option>
    <option value="6">Suave (Recuperaci贸n)</option>
    <option value="7">Bien (Esfuerzo moderado)</option>
    <option value="8">Duro (Cerca del fallo)</option>
    <option value="9">Muy Duro (L铆mite)</option>
  </select>
  <button style="background: #34c759;" onclick="completeWorkout()">Guardar Entrenamiento</button>
  <p id="msg" style="text-align: center; font-size: 14px; margin-top: 10px;"></p>
</div>

<div class="card">
  <h2> Registro Anterior</h2>
  <div id="history-log"></div>
</div>

<script>
/* CONFIGURACIN Y ESTADO */
const config = {
  exercises: ["Sentadillas", "Flexiones (Push-ups)", "Zancadas", "Plancha (segundos)", "Puente de Gl煤teo"],
  restTime: 90
};

let stats = JSON.parse(localStorage.getItem('workout_stats')) || {
  level: 1,
  reps: 10,
  rounds: 3,
  history: []
};

function renderRoutine() {
  const list = document.getElementById('exercise-list');
  list.innerHTML = config.exercises.map(ex => `
    <div class="exercise-item">
      <span>${ex}</span>
      <span style="font-weight: bold;">${stats.reps} reps</span>
    </div>
  `).join('');
  document.getElementById('routine-meta').innerText = `Total: ${stats.rounds} rondas | Descanso: 90s`;
}

/* TEMPORIZADOR */
let timerInterval;
function startTimer() {
  clearInterval(timerInterval);
  let time = config.restTime;
  const display = document.getElementById('timer-display');
  
  timerInterval = setInterval(() => {
    let mins = Math.floor(time / 60);
    let secs = time % 60;
    display.innerText = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    if (--time < 0) {
      clearInterval(timerInterval);
      display.innerText = "隆A entrenar!";
      window.navigator.vibrate?.(200);
    }
  }, 1000);
}

/* GUARDAR Y PROGRESAR */
function completeWorkout() {
  const rpe = document.getElementById('rpe-select').value;
  if(!rpe) { alert("Selecciona RPE"); return; }

  // L贸gica de progresi贸n para +40 (m谩s conservadora)
  if (rpe <= 7) {
    stats.reps += 1;
    if (stats.reps > 15) { stats.reps = 10; stats.rounds += 1; }
  } else if (rpe >= 9) {
    stats.reps = Math.max(8, stats.reps - 1);
  }

  const entry = {
    date: new Date().toLocaleDateString(),
    rpe: rpe,
    reps: stats.reps
  };
  
  stats.history.unshift(entry);
  if(stats.history.length > 5) stats.history.pop();

  localStorage.setItem('workout_stats', JSON.stringify(stats));
  document.getElementById('msg').innerText = "隆Datos guardados! Sigue as铆.";
  renderRoutine();
  renderHistory();
}

function renderHistory() {
  const log = document.getElementById('history-log');
  log.innerHTML = stats.history.map(h => `
    <div class="history-item"> ${h.date} - RPE: ${h.rpe} - Reps: ${h.reps}</div>
  `).join('');
}

// Iniciar App
renderRoutine();
renderHistory();
</script>

</body>
</html>

